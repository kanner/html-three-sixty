/*
	UIZE JAVASCRIPT FRAMEWORK 2010-10-21

	http://www.uize.com/reference/Uize.html
	Available under MIT License or GNU General Public License -- http://www.uize.com/license.html
*/
(function(){var _a,_b='string',_c='object',_d='function',_e='number',_f='boolean',_g=Function,_h=false,_i=true,_j=null;var _k=0,_l=[],_m={},_n={string:1,number:1,'boolean':1};function _o(_p){if(_p==_a)return _p;var _q=typeof _p;if(_q==_b||_q==_e||_q==_f||(_q==_d&& !(_p instanceof RegExp)))return _p;var _r=_p instanceof RegExp?new RegExp(_p):_p instanceof Date?new Date(_p):_p instanceof String?new String(_p):_p instanceof Number?new Number(_p):_p instanceof Boolean?new Boolean(_p==_i):_a;if(!_r){var _s,_t;_r=_u(_p)?[]:{};for(var _v in _p)_r[_v]=(_t=typeof(_s=_p[_v]))==_b||_t==_e||_t==_f||_s==_a?_s:_o(_s);}return _r;}var _w=Uize=_x(function(){},function(){this.instanceId=_y();},function(_z){_z||(_z=_m);var _A={},_B=this.Class._B,_v,_C;for(_v in _B){if(_v in _z)_A[_v]=_z[_v];else if((_C=_B[_v])!==_a)_A[_v]=_C;}for(_v in _z)_v in _A||(_A[_v]=_z[_v]);this.set(_A);}),_D=_w.prototype;function _E(_F){return _F.Class||_F}var _G={},_H={Uize:_w};function _I(_J){return(_H[_J]||
(_H[_J]=(new _g('try {return '+_J+'} catch (e) {}'))()));}function _K(_L){var _M=_G[_L];if(_M){for(var _N= -1,_O=_M.length;++_N<_O;)_M[_N]();delete _G[_L];}}function _P(_Q,_R){var _w=_E(_Q);return(_w._S[_R]||_w._T[_R]);}function _U(_Q,_R){var _V=_P(_Q,_R);return _V?_V._W:_R;}_w._X=_D._X=function(_Y,_Z){if(_Y.charCodeAt(0)==67&& !_Y.indexOf('Changed.')){var _Q=this,_0=_Y.slice(8),_V=_P(_Q,_0);if(_V&&_0!=_V._1)_Y='Changed.'+(_0=_V._1);_Z(_Y);(_Q._2||(_Q._2={}))[_0]=_Q._3&&_Q._3[_Y];}else{_Z(_Y);}};_w.wire=_D.wire=function(_4,_5){var _Q=this;if(arguments.length==2){_Q._X(_4,function(_Y){var _3=_Q._3||(_Q._3=_Q.eventHandlers={});(_3[_Y]||(_3[_Y]=[])).push({_Y:_Y,_5:typeof _5==_d?_5:typeof _5==_b?new _g(_5):function(_6){_5.fire(_6)},_7:_5});});}else if(typeof _4==_c&&_4){for(var _Y in _4)this.wire(_Y,_4[_Y]);}};_w.fire=_D.fire=function(_6){if(typeof _6!=_c)_6={name:_6};var _Q=this,_3=_Q._3;if(_3){var _8=_3[_6.name],_9=_3['*'];if(_8||_9){_6.source||(_6.source=_Q);var _ba=_9&&_8?_9.concat(_8):_9||_8,_bb=_ba.length;
if(_bb==1){_ba[0]._5(_6);}else if(_bb==2){var _bc=_ba[0]._5,_bd=_ba[1]._5;_bc(_6);_bd(_6);}else{if(!_9|| !_8)_ba=_ba.concat();for(var _be= -1;++_be<_bb;)_ba[_be]._5(_6);}}}if(_6.bubble&&_Q.Class&&_Q.parent){_6.source||(_6.source=_Q);_Q.parent.fire(_6);}return _6;};_w.unwire=_D.unwire=function(_4,_5){var _Q=this;if(typeof _4==_c&&_4){for(var _Y in _4)_Q.unwire(_Y,_4[_Y]);}else{_Q._X(_4,function(_Y){var _3=_Q._3;if(_3){var _bf=_3[_Y];if(_bf){if(_5){var _be=0;while(_be<_bf.length){_bf[_be]._7==_5?_bf.splice(_be,1):_be++;}}(_5&&_bf.length)||delete _3[_Y];}}});}};_w.get=_D.get=function(_v){if(typeof _v==_b){return this[_U(this,_v)];}else{var _Q=this,_r={};if(!_v){var _w=_E(_Q),_T=_w._T;for(var _bg in _T)_r[_T[_bg]._1]=_Q[_bg];}else if(_u(_v)){for(var _bh= -1,_bi=_v.length;++_bh<_bi;){var _bj=_v[_bh];_r[_bj]=_Q[_U(_Q,_bj)];}}else{for(var _bj in _v)_r[_bj]=_Q[_U(_Q,_bj)];}return _r;}};_w.registerProperties=function(_bk){var _Q=this,_T=_Q._T,_S=_Q._S;for(var _bg in _bk){var _bl=_bk[_bg],_bm=typeof _bl==_c,_0=
(_bm?_bl.name:_bl)||_bg,_bn=_0,_V=_T[_bg]={_W:_bg};if(_0.indexOf('|')> -1){var _bo=_0.split('|');_bn=_bo[0];for(var _bp= -1;++_bp<_bo.length;)_S[_bo[_bp]]=_V;}else{_S[_0]=_V;}_V._1=_bn;if(_bm){if(_bl.onChange)_V._bq=_bl.onChange;if(_bl.conformer)_V._br=_bl.conformer;_Q[_bg]=_bl.value;}}_Q._B=this.get();};_w.set=_D.set=function(_z){if(arguments.length==2)_z=_bs(_z,arguments[1]);var _Q=this,_bt= !!_Q.Class,_w=_Q.Class||_Q,_S=_w._S,_T=_w._T,_V,_bu,_bv,_bw,_2=_bt&&_Q._2,_bx=_2&&_2['*'],_by,_bz,_bg,_0,_bA,_bB,_bC;for(var _R in _z){_bB=_z[_R];if(_V=_S[_R]||_T[_R]){_bg=_V._W;_0=_V._1;if(_bt)(_bC||(_bC={}))[_0]=_V._br?(_bB=_V._br.call(_Q,_bB,_Q[_bg])):_bB;if(_bB!==_Q[_bg]){if(_bt){_bx&&((_by||(_by={}))[_0]=_bB);_2&&_2[_0]&&(_bz||(_bz=[])).push(_0);function _bD(_bw){if(typeof _bw==_d){if(!_bu){_bu=[];_bv=_Q.instanceId+'_handlerAlreadyAdded';}if(!_bw[_bv]){_bw[_bv]=1;_bu.push(_bw);}}else if(typeof _bw==_b){_bD(_Q[_bw]);}else if(_u(_bw)){for(var _be= -1,_bE=_bw.length;++_be<_bE;)_bD(_bw[_be]);}}_V._bq&&_bD(_V._bq);}
_Q[_bg]=_bB;}}else{_Q[_R]=_bB;(_bA||(_bA={}))[_R]=_R;}}_bA&&_w.registerProperties(_bA);if(_bt){if(_bu){for(var _be= -1,_bF=_bu.length;++_be<_bF;){var _bw=_bu[_be];delete _bw[_bv];_bw.call(_Q,_bC);}}_by&&_Q.fire({name:'Changed.*',properties:_by});if(_bz){for(var _bG= -1,_bH=_bz.length;++_bG<_bH;)_Q.fire('Changed.'+_bz[_bG]);}}else{_w._B=this.get();}};_w.toggle=_D.toggle=function(_bI){var _p= !this.get(_bI);this.set(_bI,_p);return _p;};_w.toString=_D.toString=function(){function _bJ(_bK){var _J=_E(_bK).moduleName,_bL=_bK.subclass;return('['+(_bt(_bK)||(!_bL&& !_J)?_c:_bL?'class':'package')+' '+(_J||'Function')+']');}var _r=_bJ(this);if(this.get){var _z=this.get(),_bM=[];for(var _bI in _z){var _bB=_z[_bI];_bM.push(_bI+' : '+(_bB&&(_bt(_bB)||(typeof _bB==_d&& !(_bB instanceof RegExp)))?_bJ(_bB):_bB));}_r+='\n\n'+_bM.sort().join('\n');}return _r;};_w.valueOf=_D.valueOf=function(){return this[_U(this,'value')];};_D.kill=function(){var _bN=this.instanceId;_bO('if(typeof '+_bN+'!=\'undefined\')'+_bN+'=null');};
_w.capFirstChar=function(_bP){return _bP.charAt(0).toUpperCase()+_bP.slice(1);};_w.clone=_o;_w.constrain=function(_p,_bQ,_bR){return(_bQ<_bR?(_p<_bQ?_bQ:_p>_bR?_bR:_p):(_p<_bR?_bR:_p>_bQ?_bQ:_p));};var _bS=_w.copyInto=function(_bT,_bU){if(typeof _bU==_c&&_bU){for(var _bI in _bU)_bT[_bI]=_bU[_bI];}if(arguments.length>2){for(var _bV=0;++_bV<arguments.length;){if(typeof(_bU=arguments[_bV])==_c&&_bU){for(var _bI in _bU)_bT[_bI]=_bU[_bI];}}}return _bT;};_w.callOn=function(_bK,_bW,_bX){if(!_bK)return;_bX||(_bX=_l);var _bY=typeof _bW==_b,_bZ= !_bY&&typeof _bW==_d;function _b0(_bK){if(_bK&&typeof _bK==_c){if(_u(_bK)){for(var _b1= -1,_b2=_bK.length;++_b1<_b2;)_b0(_bK[_b1]);}else{var _b3=_bY&&typeof _bK[_bW]==_d;if(_bt(_bK)||_b3){if(_bZ||_b3)(_bZ?_bW:_bK[_bW]).apply(_bK,_bX);}else{for(var _b4 in _bK)_b0(_bK[_b4]);}}}}_b0(_bK);};_w.getModulesBuilt=function(){var _b5=[];for(var _J in _H)_b5.push(_J);return _b5;};_w.indexIn=function(_b6,_p,_b7,_b8){if(_u(_b6)){_b8=_b8!==_h;for(var _b9=_b6.length-1,_ca=_b9+1,_r;--_ca>=0;){
var _cb=_b6[_r=_b7?_ca:_b9-_ca];if(_b8?_cb===_p:_cb==_p)return _r;}}return-1;};var _u=_w.isArray=function(_bK){return _bK instanceof Array||(!!_bK&&typeof _bK.splice==_d);};_w.isNumber=function(_p){return typeof _p==_e&& !isNaN(_p);};_w.isIn=function(_b6,_p,_b8){return _w.indexIn(_b6,_p,false,_b8)> -1;};var _cc=_w.recordMatches=function(_cd,_ce){if(!_cd)return!_ce;for(var _bI in _ce){if(_cd[_bI]!==_ce[_bI])return _h;}return _i;};_w.findRecordNo=function(_cf,_ce,_cg){var _r=_w.isNumber(_cg)?_cg: -1;if(_cf){for(var _ch= -1,_ci=_cf.length;++_ch<_ci;){if(_cc(_cf[_ch],_ce)){_r=_ch;break;}}}return _r;};_w.findRecord=function(_cf,_ce,_cg){var _ch=_w.findRecordNo(_cf,_ce,_cg);return _ch> -1?_cf[_ch]:null;};var _y=_w.getGuid=function(){return'uizeGuid'+_k++;};var _cj=_w.getPathToLibrary=function(_ck,_cl){if(typeof document!='undefined'&&document.getElementsByTagName){for(var _cm= -1,_cn=document.getElementsByTagName('SCRIPT'),_co=_cn.length,_cp,_cq;++_cm<_co;){if((_cq=(_cp=_cn[_cm].src).indexOf(_ck))> -1)return(_cl
?_cp.replace(_ck,_cl):_cp.slice(0,_cp.lastIndexOf('/',_cq)+1));}}return'';};var _bO=_w.globalEval=new _g('toEval','return eval (toEval)');var _bt=_w.isInstance=function(_bK){return!!(_bK&&_bK.Class);};_w.module=function(_cr){var _cs=_cr.name||'',_ct=_cs.lastIndexOf('.'),_cu=_cs.substr(0,_ct),_cv=_cr.superclass||_cu,_cw=_cr.required||[],_cx=[];_G[_cs]||(_G[_cs]=[]);if(typeof _cw==_b)_cw=_cw.split(',');_cu&&_cw.push(_cu);_cv!=_cu&&_cw.push(_cv);for(var _cy= -1,_cz=_cw.length;++_cy<_cz;){var _cA=_cw[_cy];_cA&& !_I(_cA)&&_cx.push(_cA);}function _cB(){var _cC=_cr.builder,_L=_cC&&_cC(_I(_cv));_cs&&(new _g('m',_cs+'=m'))(_L=_H[_cs]=_L||function(){});if(typeof _L==_d){_L.moduleName=_cs;if(!_L.subclass)_L.toString=Uize.toString;}_K(_cs);}var _cD=_cx.length;if(_cD){var _cE=_w.moduleLoader;if(_cE){var _cF= -1;function _cG(){_cF++;if(_cF<_cD){var _cH=_cx[_cF];_I(_cH)?_cG():_G[_cH]?_G[_cH].push(_cG):_cE(_cH,function(_cI){if(_I(_cH)){_cG();}else{_cI&&_bO(_cI);if(_I(_cH)){_K(_cH);_cG();}else{(_G[_cH]||(_G[_cH]=[])
).push(_cG);}}});}else{_cB();}}_cG();}else{_cB();}}else{_cB();}};var _bs=_w.pairUp=function(_cJ,_p){var _r={};_r[_cJ]=_p;return _r;};var _cK=_w.escapeRegExpLiteral=function(_cL){return _cL.replace(/([\^\$\|\{\}\[\]\(\)\?\.\*\+\\])/g,'\\$1');},_cM=_w.substituteInto=function(_cN,_cO,_cP){if(!(_cN=_cN==_a?'':_cN+'')||_cO==_a)return _cN;if(_n[typeof _cO])_cO=[_cO];var _cQ=(_cP||'[#KEY]').split('KEY'),_cR=[];for(var _cS in _cO)_cR.push(_cK(_cS));return _cN.replace(new RegExp(_cK(_cQ[0])+'('+_cR.join('|')+')'+_cK(_cQ[1]),'g'),function(_cT,_cS){return _cO[_cS]+''});};function _x(_w,_cU,_cV){var _cW=function(){var _cX,_cY,_cZ;for(var _c0 in _c1){_cY=(_cX=_c1[_c0]).length;for(var _c2= -1;++_c2<_cY;)if(_cZ=_cX[_c2])_cZ.apply(this,arguments);}return this;};var _D=_w.prototype;var _bB;for(var _v in _w)if((_bB=_w[_v])!=_D&&(!_bB||typeof _bB!=_d|| !_bB.moduleName|| !/[A-Z]/.test(_v.charAt(0))))_cW[_v]=_o(_bB);var _c3=_cW.prototype;for(var _v in _D)_c3[_v]=_D[_v];_c3.toString=_D.toString;_c3.valueOf=_D.valueOf;
_c3.Class=_cW;_cW.superclass=_w;var _c4=_w._c4||{alphastructor:_l,omegastructor:_l},_c1=_cW._c4={alphastructor:_c4.alphastructor.concat(_cU),omegastructor:_c4.omegastructor.concat(_cV)};_cW._T||(_cW._T={});_cW._S||(_cW._S={});return _cW;};_w.subclass=function(_cU,_cV){return _x(this,_cU,_cV);};_w.moduleName='Uize';var _c5='[#modulePath]',_c6;_w.moduleUrlResolver=function(_J){return _w.moduleUrlTemplate.replace(_c5,_J+'.js');};_w.moduleLoader=function(_cH,_c7){_c7();var _c8=document.createElement('script');_c8.type='text/javascript';_c8.src=_w.moduleUrlResolver(_cH);(_c6||(_c6=document.getElementsByTagName('HEAD')[0])).appendChild(_c8);};_w.moduleUrlTemplate=_cj('Uize.js',_c5);_w.pathToResources=_cj('Uize.js');})();